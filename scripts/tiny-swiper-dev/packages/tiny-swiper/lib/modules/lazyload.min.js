!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define(a):(e="undefined"!=typeof globalThis?globalThis:e||self).SwiperPluginLazyload=a()}(this,function(){"use strict";function r(a,e){void 0===e&&(e=[]),Array.isArray(e)||(e=[e]),e.forEach(function(e){return!a.classList.contains(e)&&a.classList.add(e)})}function s(a,e){void 0===e&&(e=[]),Array.isArray(e)||(e=[e]),e.forEach(function(e){return a.classList.contains(e)&&a.classList.remove(e)})}return function(l,e){var a=Boolean(e.lazyload),t=Object.assign({loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"},e.lazyload),n={load:function(e){var a,o,e=l.env.element.$list[e];function n(e){e.removeAttribute("data-src"),r(e,[t.loadedClass]),s(e,[t.loadingClass]),e.onload=null,e.onerror=null,e.isLoaded=!0,a.every(function(e){return e.isLoaded})&&o.forEach(function(e){e.parentElement.removeChild(e)})}e&&(a=[].slice.call(e.getElementsByClassName(t.elementClass)),o=[].slice.call(e.getElementsByClassName(t.preloaderClass)),a.forEach(function(e){var a;e.hasAttribute("data-src")&&(a=e.getAttribute("data-src"),r(e,[t.loadingClass]),s(e,[t.loadedClass]),e.src=a,e.onload=function(){return n(e)},e.onerror=function(){return n(e)})}))},loadRange:function(e,a){if(n.load(e),t.loadPrevNext&&1<=a)for(var o=1;o<=a;o++)n.load(e+o),n.load(e-o)}};a&&(l.on("before-init",function(){l.lazyload=n}),t.loadOnTransitionStart?l.on("before-slide",function(e,a,o){n.loadRange(o,t.loadPrevNextAmount)}):l.on("after-slide",function(e){n.loadRange(e,t.loadPrevNextAmount)}),l.on("after-destroy",function(){l.lazyload&&delete l.lazyload}))}});
