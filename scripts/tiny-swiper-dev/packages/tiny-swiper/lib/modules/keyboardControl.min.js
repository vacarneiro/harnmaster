!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).SwiperPluginKeyboardControl=n()}(this,function(){"use strict";var t="ArrowUp",d="ArrowRight",a="ArrowDown",l="ArrowLeft";function f(e){var n=function e(n){if(!n)return!1;var o=getComputedStyle(n);return"hidden"!==o.visibility&&"none"!==o.display&&(!n.parentElement||1!==n.parentElement.nodeType||e(n.parentElement))}(e),e=e.getBoundingClientRect();return 0<=e.top&&e.bottom<=window.innerHeight&&0<=e.left&&e.right<=window.innerWidth&&n}return function(i,n){var e=Boolean(n.keyboard),o=Object.assign({enabled:!0,onlyInViewport:!0},n.keyboard),r={enable:function(){o.enabled=!0},disable:function(){o.enabled=!1},onKeyDown:function(e){e=e.key;o.onlyInViewport&&!f(i.env.element.$el)||!o.enabled||(n.isHorizontal?e===l?i.slideTo(i.state.index-1):e===d&&i.slideTo(i.state.index+1):e===a?i.slideTo(i.state.index-1):e===t&&i.slideTo(i.state.index+1))}};e&&(i.on("before-init",function(){var e,n,o,t;i.keyboard=r,e=window,n="keydown",o=r.onKeyDown,e.addEventListener(n,o,t)}),i.on("after-destroy",function(){var e,n,o;i.keyboard&&(e=window,n="keydown",o=r.onKeyDown,e.removeEventListener(n,o),delete i.keyboard)}))}});
